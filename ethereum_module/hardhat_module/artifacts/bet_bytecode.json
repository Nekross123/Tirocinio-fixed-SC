{
  "bytecode": "608060405260405162000ca738038062000ca78339818101604052810190620000299190620000fb565b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503460048190555081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508043620000bf91906200013c565b60028190555050506200023a565b600081519050620000de8162000206565b92915050565b600081519050620000f58162000220565b92915050565b600080604083850312156200010f57600080fd5b60006200011f85828601620000cd565b92505060206200013285828601620000e4565b9150509250929050565b60006200014982620001cd565b91506200015683620001cd565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156200018e576200018d620001d7565b5b828201905092915050565b6000620001a682620001ad565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b620002118162000199565b81146200021d57600080fd5b50565b6200022b81620001cd565b81146200023757600080fd5b50565b610a5d806200024a6000396000f3fe6080604052600436106100345760003560e01c80635bc60cfc1461003957806370dea79a14610062578063b688a3631461006c575b600080fd5b34801561004557600080fd5b50610060600480360381019061005b9190610692565b610076565b005b61006a6102e2565b005b610074610520565b005b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610106576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100fd9061092a565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415610198576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161018f906109aa565b60405180910390fd5b60018111156101dc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101d39061096a565b60405180910390fd5b600080821461020d57600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1661022f565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff165b905060008173ffffffffffffffffffffffffffffffffffffffff1647604051610257906108d5565b60006040518083038185875af1925050503d8060008114610294576040519150601f19603f3d011682016040523d82523d6000602084013e610299565b606091505b50509050806102dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102d4906109ca565b60405180910390fd5b505050565b6002544311610326576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161031d9061090a565b60405180910390fd5b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660045460405161036f906108d5565b60006040518083038185875af1925050503d80600081146103ac576040519150601f19603f3d011682016040523d82523d6000602084013e6103b1565b606091505b50509050806103f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103ec906109ca565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461051d576000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600454604051610495906108d5565b60006040518083038185875af1925050503d80600081146104d2576040519150601f19603f3d011682016040523d82523d6000602084013e6104d7565b606091505b505090508061051b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610512906109ca565b60405180910390fd5b505b50565b6004543414610564576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161055b9061098a565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146105f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ec906108ea565b60405180910390fd5b60025443111561063a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106319061094a565b60405180910390fd5b33600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60008135905061068c81610a10565b92915050565b6000602082840312156106a457600080fd5b60006106b28482850161067d565b91505092915050565b60006106c86016836109f5565b91507f506c617965723220616c7265616479206a6f696e6564000000000000000000006000830152602082019050919050565b6000610708601a836109f5565b91507f5468652074696d656f757420686173206e6f74207061737365640000000000006000830152602082019050919050565b6000610748600f836109f5565b91507f4f6e6c7920746865206f7261636c6500000000000000000000000000000000006000830152602082019050919050565b60006107886007836109f5565b91507f54696d656f7574000000000000000000000000000000000000000000000000006000830152602082019050919050565b60006107c8600e836109f5565b91507f496e76616c69642077696e6e65720000000000000000000000000000000000006000830152602082019050919050565b6000610808600d836109f5565b91507f496e76616c69642076616c7565000000000000000000000000000000000000006000830152602082019050919050565b60006108486016836109f5565b91507f506c617965723220686173206e6f74206a6f696e6564000000000000000000006000830152602082019050919050565b60006108886000836109ea565b9150600082019050919050565b60006108a26010836109f5565b91507f5472616e73666572206661696c65642e000000000000000000000000000000006000830152602082019050919050565b60006108e08261087b565b9150819050919050565b60006020820190508181036000830152610903816106bb565b9050919050565b60006020820190508181036000830152610923816106fb565b9050919050565b600060208201905081810360008301526109438161073b565b9050919050565b600060208201905081810360008301526109638161077b565b9050919050565b60006020820190508181036000830152610983816107bb565b9050919050565b600060208201905081810360008301526109a3816107fb565b9050919050565b600060208201905081810360008301526109c38161083b565b9050919050565b600060208201905081810360008301526109e381610895565b9050919050565b600081905092915050565b600082825260208201905092915050565b6000819050919050565b610a1981610a06565b8114610a2457600080fd5b5056fea264697066735822122005d2a2fb9599ae27e4a119bf75e16d391bb218ff3dc7fb9240a6ad00e18b9cde64736f6c63430008000033",
  "bytecode_runtime": "",
  "source_code": "// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.0;\n\ncontract Bet {\n\n    address payable player1;\n    address payable player2;\n    uint deadline;\n    address oracle;\n    uint wager;\n\n    constructor(address _oracle, uint _timeout) payable {\n        player1 = payable(msg.sender);\n        wager = msg.value;\n        oracle = _oracle;\n        deadline = block.number + _timeout;\n    }\n\n    function join() payable public {\n        require(msg.value == wager, \"Invalid value\");\n        require(player2 == address(0), \"Player2 already joined\");\n        require(block.number <= deadline, \"Timeout\");\n        player2 = payable(msg.sender);\n    }\n\n    function win(uint winner) external  {\n        require(msg.sender == oracle, \"Only the oracle\");\n        require(player2 != address(0), \"Player2 has not joined\");\n        require(winner <= 1, \"Invalid winner\"); \n\n        address payable addressWinner = (winner == 0) ? player1 : player2;\n        (bool success,) = addressWinner.call{value: address(this).balance}(\"\");\n        require (success, \"Transfer failed.\");\n    }\n\n    function timeout() external payable {\n        require(block.number > deadline, \"The timeout has not passed\");\n\n        (bool success,) = player1.call{value: wager}(\"\");\n        require (success, \"Transfer failed.\");\n\n        if (player2 != address(0)) {\n            (bool success2,) = player2.call{value: wager}(\"\");\n            require (success2, \"Transfer failed.\");\n        }\n\n        // warning: extra funds may remain frozen in the contract\n    }\n}\n"
}